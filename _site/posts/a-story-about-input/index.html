<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <meta charset="utf-8">
  <title>
    &lt;input&gt; I ‚ô° you, but you're bringing me down &ndash; Alex Stephen
  </title>

  <!-- Begin Jekyll SEO tag v2.1.0 -->
<meta property="og:title" content="&lt;input&gt; I ‚ô° you, but you‚Äôre bringing me down" />
<meta name="description" content="Some people build furniture. Some people knit. Some people have hobbies that don‚Äôt involve HTML specs from the 90s. I am not those people. So here‚Äôs a story about &lt;input&gt;, how it got to be the jerk that it is, and why it needs to die in a fire." />
<meta property="og:description" content="Some people build furniture. Some people knit. Some people have hobbies that don‚Äôt involve HTML specs from the 90s. I am not those people. So here‚Äôs a story about &lt;input&gt;, how it got to be the jerk that it is, and why it needs to die in a fire." />
<link rel="canonical" href="http://localhost:4000/posts/a-story-about-input/" />
<meta property="og:url" content="http://localhost:4000/posts/a-story-about-input/" />
<meta property="og:site_name" content="Alex Stephen" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-10-22T00:00:00-07:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@rambleraptor" />
<meta name="twitter:creator" content="@rambleraptor" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "&lt;input&gt; I ‚ô° you, but you‚Äôre bringing me down",
"datePublished": "2015-10-22T00:00:00-07:00",
"description": "Some people build furniture. Some people knit. Some people have hobbies that don‚Äôt involve HTML specs from the 90s. I am not those people. So here‚Äôs a story about &lt;input&gt;, how it got to be the jerk that it is, and why it needs to die in a fire.",
"url": "http://localhost:4000/posts/a-story-about-input/"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <link rel="alternate" type="application/rss+xml" href="/atom.xml" />

  <link rel="stylesheet" href="/css/base.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="/css/pygments.css" type="text/css" />
  <link rel="stylesheet" href="/css/mobile.css" type="text/css" media="screen, projection" />
  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.png" />
  <link rel="icon" type="image/png"  href="/images/favicon.png">

  <link href="https://fonts.googleapis.com/css?family=Cabin" rel="stylesheet">

  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-47334320-2']);
    _gaq.push(['_setDomainName', 'http://localhost:4000']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

</head>
<body>
  <div class="top-line"></div>
  <div class="container">
    <header class="sidebar">
    <a href="/"><h1 class="avatar">Alex's Rambles</h1></a>

      <div class="sidebar-text">
        <section class="meta">
          <a href="https://github.com/rambleraptor" target="_blank" title="Peep at my GitHub" aria-label="Peep at my GitHub">
            <svg viewBox="0 0 18 18" style="display: inline-block; width: 16px; height: 16px;"><g><path d="M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.437 1.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8"></path></g></svg>
          </a>
          <a href="https://twitter.com/rambleraptor" target="_blank" title="Follow me on twitter" aria-label="Follow me on Twitter">
            <svg viewBox="0 0 18 18" style="display: inline-block; width: 16px; height: 16px;"><g><path d="M16 3.038c-.59.26-1.22.437-1.885.517.677-.407 1.198-1.05 1.443-1.816-.634.375-1.337.648-2.085.795-.598-.638-1.45-1.036-2.396-1.036-1.812 0-3.282 1.468-3.282 3.28 0 .258.03.51.085.75C5.152 5.39 2.733 4.084 1.114 2.1.83 2.583.67 3.147.67 3.75c0 1.14.58 2.143 1.46 2.732-.538-.017-1.045-.165-1.487-.41v.04c0 1.59 1.13 2.918 2.633 3.22-.276.074-.566.114-.865.114-.21 0-.416-.02-.617-.058.418 1.304 1.63 2.253 3.067 2.28-1.124.88-2.54 1.404-4.077 1.404-.265 0-.526-.015-.783-.045 1.453.93 3.178 1.474 5.032 1.474 6.038 0 9.34-5 9.34-9.338 0-.143-.004-.284-.01-.425.64-.463 1.198-1.04 1.638-1.7z" fill-rule="nonzero"></path></g></svg>
          </a>
          <a href="/atom.xml" title="Atom RSS feed" aria-label="Atom RSS feed" class="og">üìù</a>
        </section>

        <nav class="sections">
          <ul>
            <li><a href="/about">about</a></li>
            <li><a href="/">posts</a></li>
            
              
              <li><a href="/life">life</a></li>
            
              
              <li><a href="/tech">tech</a></li>
            
          </ul>
        </nav>
      </div>
    </header>

    <!-- <link rel="stylesheet" href="/css/scroller.css" type="text/css" media="screen, projection"/> -->
<section class="content">
  <h1>
    <a href="/posts/a-story-about-input/">&lt;input&gt; I ‚ô° you, but you're bringing me down</a>
  </h1>

  <section class="byline">
    October 22, 2015 ‚ö¨ 
  </section>

  <p>Some people build furniture. Some people knit. Some people have hobbies that
don‚Äôt involve HTML specs from the 90s. I am not those people. So here‚Äôs a story
about <code class="highlighter-rouge">&lt;input&gt;</code>, how it got to be the jerk that it is, and why it needs to die in a fire.</p>

<h2 id="the-early-years">The early years</h2>
<p>1995 was a good year. Friends, ER, Xena were all on TV. TLC had dominated the
charts with ‚ÄúWaterfalls‚Äù. Browsers were ok, because HTML was pretty ok. We had
Mosaic, Netscape and IE1, and the <a href="http://tools.ietf.org/html/rfc1866">HTML2</a>
spec was finally getting around to standardizing forms. 1995 was the year
when <code class="highlighter-rouge">&lt;input&gt;</code> was born, and now that it‚Äôs about old enough to drink, we need to have a talk.</p>

<p>Input initially came along with 8 types: <code class="highlighter-rouge">text</code>, <code class="highlighter-rouge">password</code>, <code class="highlighter-rouge">checkbox</code>, <code class="highlighter-rouge">radio</code>, <code class="highlighter-rouge">image</code>, <code class="highlighter-rouge">hidden</code>,
<code class="highlighter-rouge">submit</code> and <code class="highlighter-rouge">reset</code>, and in a separate <a href="https://www.ietf.org/rfc/rfc1867.txt">RFC</a> that followed, <code class="highlighter-rouge">file</code>.</p>

<p>Wait, did you say <em>image</em>? Yeah, let‚Äôs talk about it.</p>

<p><code class="highlighter-rouge">&lt;input type="image" src="cat.png"&gt;</code> looks like an image, but it‚Äôs actually an image
button that also submits the (x,y) coordinates of where you clicked on the image. Unless you don‚Äôt specify
a <code class="highlighter-rouge">src</code> file, in which case it‚Äôs an ‚Äúimage button‚Äù that says ‚ÄúSubmit‚Äù.
Unless you‚Äôre in Firefox, in which case it says ‚ÄúSubmit Query‚Äù and looks like
a label. Unless you‚Äôre in
IE in which case it doesn‚Äôt say anything at all.</p>

<p><img src="/images/2015-10-22/type-image.png" alt="input type=image with no source" /></p>

<p>Also, for your local pub trivia night, the message that the <code class="highlighter-rouge">type=file</code> input to
indicate you haven‚Äôt done anything is ‚ÄúNo file chosen‚Äù, ‚Äúno file selected‚Äù,
‚ÄúNo file selected‚Äù, and just an empty textbox on Chrome, Safari, Firefox and IE respectively.</p>

<p>Right, ok.</p>

<h2 id="and-now-a-textarea-rant">And now, a <code class="highlighter-rouge">&lt;textarea&gt;</code> rant</h2>
<p>I always thought <code class="highlighter-rouge">input</code> and <code class="highlighter-rouge">textarea</code> came at later dates, and that explained
why they‚Äôre kind of insanely different. This is kind of true, since <code class="highlighter-rouge">input</code> was
around in Mosaic since at least 1993, and it was a fixed-up implementation of
<code class="highlighter-rouge">ISINDEX</code>. However, on the record, they were both children of the HTML2 spec,
which decided that <code class="highlighter-rouge">&lt;input&gt;</code> is a self closing tag and uses a <code class="highlighter-rouge">value</code> attribute,
while <code class="highlighter-rouge">&lt;textarea&gt;</code> needs a closing tag and uses its contents, even though they
both just hold text that someone else has entered:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;input</span> <span class="na">value=</span><span class="s">"batman"</span><span class="nt">&gt;</span>
<span class="nt">&lt;textarea</span> <span class="na">rows=</span><span class="s">"1"</span><span class="nt">&gt;</span>batman<span class="nt">&lt;/textarea&gt;</span>
</code></pre>
</div>

<p>Update: someone pointed out that <code class="highlighter-rouge">&lt;textarea&gt;</code> needs to support multilines,
and newlines aren‚Äôt allowed inside attributes values, which is why it needed
to use its contents. Makes sense!</p>

<h2 id="1995-2011-the-slow-years">1995-2011, the slow years</h2>
<p>In 1999, <a href="http://www.w3.org/TR/html401/">HTML4</a> only added <code class="highlighter-rouge">type="button"</code>. My favourite part about
it is that with no custom styles, an <code class="highlighter-rouge">&lt;input type="button"&gt;</code> and an
<code class="highlighter-rouge">&lt;input type="button" value="Submit"&gt;</code> on the same line, do not align vertically
on Chrome/Safari/Edge.</p>

<p><img height="40px" alt="input type=button misalignment" src="/images/2015-10-22/button-align.png" /></p>

<h2 id="then-everything-got-worse">Then everything got worse</h2>
<p>Later, in 2011, the <a href="http://www.w3.org/html/wg/drafts/html/master/Overview.html">HTML5</a> spec added a billion new input types. It‚Äôs now 2015, and
most are not implemented. The TL; DR of the missing features is: <code class="highlighter-rouge">type=color</code> only
<a href="http://caniuse.com/#feat=input-color">works</a> on Firefox/Chrome, date/time
inputs only <a href="http://caniuse.com/#feat=input-datetime">work</a> on Chrome/Edge/iOS, and
everything that works on Chrome works on Opera. Here‚Äôs a
<a href="http://output.jsbin.com/mimuko">demo</a> of all of the different input types to date,
so that you can compare and sob by yourself.</p>

<p>Let‚Äôs talk about some interesting ones.</p>

<p><code class="highlighter-rouge">&lt;input type="search"&gt;</code> has some arbitrary text padding, borders,
and badass mid-2000s-style rounded corners, all of which are inconsistent across all browsers, and almost
impossible to get <a href="http://tjvantoll.com/2013/04/15/list-of-pseudo-elements-to-style-form-controls/">rid</a> of.</p>

<p><img height="130px" alt="input type=search weird default styles" src="/images/2015-10-22/type-search.png" /></p>

<p>If you‚Äôre on a lucky browser that does support <code class="highlighter-rouge">type="date"</code>, don‚Äôt worry about
styling the date picker ‚Äî there are 8 weirdo <code class="highlighter-rouge">::webkit</code> pseudo-selectors out there,
but they‚Äôll only let you <a href="http://tjvantoll.com/2013/04/15/list-of-pseudo-elements-to-style-form-controls/">style</a>
the input textbox, and not the actual date dropdown. CSS is bad for your health anyway.</p>

<h2 id="just-when-you-thought-it-couldnt-get-any-worse-javascript">Just when you thought it couldn‚Äôt get any worse, JavaScript</h2>
<p>You see, I can justify CSS quirks. I worked on Chrome for 2 years,
I work next to the Blink team now, I understand we‚Äôre all writing different
renderers and they all have their own CSS bugs. However, the <code class="highlighter-rouge">&lt;input&gt;</code> API isn‚Äôt
quirky ‚Äî it‚Äôs literally just a jar of spiders, and the moment you open the jar,
it‚Äôs too late. You‚Äôre covered in spiders. Even your cat is a spider now. Better find
some fire.</p>

<p>Since 1995, inputs with type <code class="highlighter-rouge">radio</code> and <code class="highlighter-rouge">checkbox</code> have
had an extra attribute, <code class="highlighter-rouge">checked</code>, to determine their checked status. Since an <code class="highlighter-rouge">HTMLInputElement</code>
is an <code class="highlighter-rouge">HTMLInputElement</code> is an <code class="highlighter-rouge">HTMLInputElement</code>, this also means that all other
input types have this property; it just gets ignored. So even though it doesn‚Äôt
make sense, this is perfectly fine:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">textInput</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'input[type="text"]'</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">textInput</span><span class="p">.</span><span class="nx">checked</span><span class="p">);</span>  <span class="c1">// prints false.</span>
<span class="nx">textInput</span><span class="p">.</span><span class="nx">checked</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">textInput</span><span class="p">.</span><span class="nx">checked</span><span class="p">);</span>  <span class="c1">// prints true.</span>
<span class="c1">// did not open the hellmouth.</span>
</code></pre>
</div>

<p>Cool. Cool cool cool.</p>

<p>Inputs also have text, and text can be selected, so the <code class="highlighter-rouge">HTMLInputElement</code>
prototype also defines two properties,
<code class="highlighter-rouge">selectionStart</code> and <code class="highlighter-rouge">selectionEnd</code> which are two numbers defining your selection
range. So you can do:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'input'</span><span class="p">).</span><span class="nx">selectionStart</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">;</span>
</code></pre>
</div>

<p>And advance the beginning of the text selection by 2 characters. Super pedestrian, except for
the fact that the <code class="highlighter-rouge">selectionStart</code> ‚Äî and brethren ‚Äî attribute is only <a href="https://html.spec.whatwg.org/multipage/forms.html#do-not-apply">available</a> for inputs
of type <code class="highlighter-rouge">text</code>, <code class="highlighter-rouge">url</code> and <code class="highlighter-rouge">password</code> and just accessing it (not even setting it)
throws an exception for all other types:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Uncaught DOMException: Failed to read the 'selectionStart'
property from 'HTMLInputElement': The input element's type ('number')
does not support selection.
</code></pre>
</div>
<p>Even though manually I can totally select that text:</p>

<p><img height="35px" alt="input type=number with selected text" src="/images/2015-10-22/type-number.png" /></p>

<p>So in some cases, irrelevant properties can be interacted with, but in
other cases they open the hellmouth. Neat-o. That‚Äôs just the kind of consistency
I look for in an API.</p>

<h2>üôà</h2>
<p>There‚Äôs more. I‚Äôm sure there‚Äôs more. The thing is, browsers have had <a href="http://www.martinrinehart.com/frontend-engineering/engineers/html/html-tag-history.html">21 years</a>
to sort out inputs, and they haven‚Äôt even managed to agree on how to communicate
‚Äúyou haven‚Äôt picked a file‚Äù.</p>

<p>Now imagine the future where Web Components are supported
natively, and someone else is allowed to write a <code class="highlighter-rouge">&lt;better-input&gt;</code>, an element
that is a real, encapsulated DOM element, and not just a div soup. Imagine using this <code class="highlighter-rouge">&lt;better-input&gt;</code>
that isn‚Äôt implemented differently in each browser, that looks the same everywhere, and that
probably also knows how to bake you a cherry pie. IMAGINE. ‚ú®</p>

</section>


    <section class="content">
      <div class="footer">
        <section class="thanks">
          <span>thanks for reading!</span>
        </section>
        <section class="twitter">
                <a href="https://twitter.com/share" class="twitter-share-button" data-via="rambleraptor" title="Tweet at me!" aria-label="Tweet at me!">Tweet</a>
          <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
        </section>
      </div>
    </section>
  </div>
</body>
</html>
